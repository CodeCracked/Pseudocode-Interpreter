program     : module* EOF



module      : MODULE IDENTIFIER params NEWLINE block END MODULE NEWLINE

block       : (statement)*



statement           : display_statement
                    : declare_statement
                    : set_statement

display_statement   : STATEMENT_KEYWORD(value: Display trailingSpaces: 1) value_set NEWLINE

declare_statement   : STATEMENT_KEYWORD(value: Declare trailingSpaces: 1) TYPE_KEYWORD(trailingSpaces: 1) IDENTIFIER (OPERATOR(value: =) expression)? NEWLINE

set_statement       : STATEMENT_KEYWORD(value: Set trailingSpaces: 1) IDENTIFIER ASSIGN expression NEWLINE

input_statement     : STATEMENT_KEYWORD(value: Input trailingSpaces: 1) IDENTIFIER NEWLINE

call_statement		: STATEMENT_KEYWORD(value: Call trailingSpaces: 1) IDENTIFIER arguments NEWLINE


value_set   : expression (COMMA expression)*

arguments	: LPAREN value_set? RPAREN

params      : LPAREN (TYPE_KEYWORD(trailingSpaces: 1) REF? IDENTIFIER (COMMA TYPE_KEYWORD(trailingSpaces: 1) REF? IDENTIFIER)*)? RPAREN



expression  : factor ((PLUS|MINUS) factor)*

factor      : exponent ((MUL|DIV|MOD) exponent)*

exponent	: atom (POW atom)*

atom        : INTEGER_LITERAL|REAL_LITERAL|STRING_LITERAL
            : IDENTIFIER
            : MINUS atom
            : LPAREN expression RPAREN